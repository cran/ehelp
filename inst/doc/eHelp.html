<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Marcelo Ponce" />

<meta name="date" content="2019-10-15" />

<title>eHelp Package: enhanced-Help allowing docstring-comments for user-defined functions</title>






<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">eHelp Package: ‘enhanced-Help’ allowing docstring-comments for user-defined functions</h1>
<h4 class="author">Marcelo Ponce</h4>
<h4 class="date">2019-10-15</h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The “eHelp” (enhnaced-Help) package allow users to include “a-la-docstring” comments in their own functions and utilize the help() function to automatically provide documentation within the R session.</p>
<p>Inspired by Python’s a-la-docstring comments and the existant “docstring” R package (<a href="https://cran.r-project.org/package=docstring" class="uri">https://cran.r-project.org/package=docstring</a>), the package “eHelp” attempts to offer similar functionalities by allowing comments “a-la-docstring” style to be displayed as help in user-defined functions.</p>
<div id="rationale" class="section level3">
<h3>Rationale</h3>
<p>Documenting code is among the “best practices” to follow when developing code in a professional manner, and even when guided generation of documentation is possible while developing R packages, we still belive that offering users a tool that allows them to document their functions using docsting comments is useful.</p>
<p>Moreover it can be used for and instructing and teaching best practices while training coders that are just starting.</p>
<p>The inclusion of “docstring” comments are an useful and easy way of allowing programmers to include comments and at the same time document their codes. Unfortunately such functionality is not present in the R core and basic features for user-defined functions.</p>
<p>The main reason why we decided to create this package is because we noticed several issues with the already available in R “docstring” package: * we have noticed that the ‘docstring’ package does not work with more than one function defined within a script * sometimes the documentation is not updated even when the function is reloaded (ie. Windows OS) * the package hasn’t been updated or mantained since its creation in 2017 (<a href="https://github.com/dasonk/docstring" class="uri">https://github.com/dasonk/docstring</a>) * we prefered to overload the “help()” function instead of the “?” one, which we find more frequently used * another advantage of using the “help()” function, is that tab-completion works and we have overload the function so that it cascades down to the R utils::help() function when the user-defined function is not present in the working environment.</p>
</div>
<div id="features" class="section level3">
<h3>Features</h3>
<p>The “eHelp” package attempts to provide documentation for user-defined functions based on decorated “a-la-docstring” comments included in the function’s definition. It does this by employing a really “simple” approach in the sense that it does not attempt to generate roxygen based documentation for the user-defined functions, but instead it just displays the information decorated with <em>#’</em> directly into the console. This, we belive, in this particular case represents an advantage, specially considering that the package is aimed to provide help for user-defined functions. For instance, one of the reported issues with the “docstring” package is that the documentation generated wasn’t updated after the user-definitions were updated and re-sourced.</p>
<p>Comments with docstrings should be included within the function definition, as eHelp will look into the body of the function for this type of comments.</p>
<p>An additional feature of the “eHelp” package is that it will automatically generate an “usage” report, independently of whether the user specified it on the docstring-ed comments utilizing the “<span class="citation">@usage</span>” keyword. It does this, by inspecting the function’s definition and parsing an expression with the function’s name and list of arguments.</p>
<p>The following keywords can be used to decorate and provide details as comments in user-defined functions:</p>
<pre><code>@fnName :  provides the name of the function
@param  :  list the arguments and its description of the arguments expected by the function
@descr  :  general description of the function
@usage  :  how the function is called
@author :  name of the author(s) of the function
@email  :  contact information of the author(s)
@repo   :  repository where to get the function from
@ref    :  any suitable reference needed</code></pre>
<p>Further keywords can be added on-demand, please contact the developer if you would like to add other keywords to the list.</p>
<p>Some keywords are explicited ignored, such as: “<span class="citation">@keyword</span> internal”, “<span class="citation">@importFrom</span>”, “<span class="citation">@export</span>”; as these won’t contribute much to the usage of the user-defined functions.</p>
</div>
<div id="highlighting" class="section level3">
<h3>Highlighting</h3>
<p>We have included extended functionalities to the “ehelp()” function, which allows the user to display the information about the requested function using highlighting features. For such functionalities to work you will have to use <code>ehelp(Name.of.Function, coloring=TRUE)</code> and it requires that “crayon” package is available in the system.</p>
</div>
</div>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>For using the “eHelp” package, first you will need to install it.</p>
<p>To obtain the development version you can get it from the github repository, i.e.</p>
<pre><code># need devtools for installing from the github repo
install.packages(&quot;devtools&quot;)

# install eHelp
devtools::install_github(&quot;mponce0/eHelp&quot;)

# load eHelp
library(eHelp)</code></pre>
</div>
<div id="how-does-it-work" class="section level2">
<h2>How does it work?</h2>
<p>After loading the “eHelp” package, the function help() from the R system will be overloaded (“masked”) by a wrapper function that allows us to redirect the calls to the help() function either to our eHelp() function or to the R’s core help() one. When the wrapper function detects that help is being invoqued in an user-defined function, then it offload the call to our own eHelp() function. The eHelp() function will parse the content of the inquired function looking for comments decorated with #’ and parse them depending on their content. In particular, it will take special care of the comments including any of the keywords described above and the usage of the function.</p>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<p>All what is needed for eHelp to offer help in your own defined functions is to add comments including &quot; #’ &quot; and its respective keywords. We offer below some examples, just recall to load the eHelp package before using help() with your own functions.</p>
<pre><code>compute3Dveloc &lt;- function(x,y,z,t){
#' @fnName compute3Dveloc
#' this function computes the velocity of an object in a 3D space
#' @param x  vector of positions in the x-axis
#' @param y  vector of positions in the y-axis
#' @param z  vector of positions in the z-axis
#' @param t  time vector corresponding to the position vector

   # number of elements in vectors
   n &lt;- length(t)
   # compute delta_t
   delta_t &lt;- t[2:n]-t[1:n-1]
   # compute delta_x
   delta_x &lt;- x[2:n]-x[1:n-1]
   # compute delta_y
   delta_y &lt;- y[2:n]-y[1:n-1]
   # compute delta_z
   delta_z &lt;- z[2:n]-z[1:n-1]
   # do actual computation of velocity...
   veloc3D &lt;- list(delta_x/delta_t, delta_y/delta_t, delta_z/delta_t)
   # return value
   return(veloc3D)
}</code></pre>
<pre><code>&gt; help(compute3Dveloc)
Function Name:     compute3Dveloc
 this function computes the velocity of an object in a 3D space 
Arguments: 
       x  vector of positions in the x-axis 
       y  vector of positions in the y-axis 
       z  vector of positions in the z-axis 
       t  time vector corresponding to the position vector 

### Usage:
   compute3Dveloc(x, y, z, t)</code></pre>
<p>Even when the <span class="citation">@fnName</span> and <span class="citation">@params</span> are not definied, the usage will be generated based on the actual function definition:</p>
<pre><code>myTestFn &lt;- function(x,y,z,t=0) {
#'
#' This is just an example of a dummy fn
#'
#'
#' @email myemail@somewhere.org
#' @author author
#
#
#' @demo
#' @example myTestFn(x0,y0,z0)
}</code></pre>
<pre><code>&gt; help(myTestFn)
Function Name:     myTestFn 

 This is just an example of a dummy fn 
 
 
Contact:       myemail@somewhere.org 
Author:    author
 @demo 

### Examples: 
       myTestFn(x0,y0,z0) 

### Usage: 
     myTestFn(x, y, z, t = 0) </code></pre>
<p>It is also possible to invoque the “ehelp()” function directly, and in that way further options are available:</p>
<pre><code>&gt; help(myTestFn, coloring=TRUE)
__Function Name:__     myTestFn 

 This is just an example of a dummy fn 
 
 
__Contact:__       myemail@somewhere.org 
__Author:__    author
 @demo 

### Examples:
       myTestFn(x0,y0,z0) 

__### Usage:__
     myTestFn(x, y, z, t = 0)</code></pre>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
